#!/bin/zsh
# Jekyll SSL 证书修复环境变量

# 方法1: 使用 Homebrew 的证书（如果存在）
if [ -f /opt/homebrew/etc/openssl@3/cert.pem ]; then
    export SSL_CERT_FILE=/opt/homebrew/etc/openssl@3/cert.pem
elif [ -f /usr/local/etc/openssl/cert.pem ]; then
    export SSL_CERT_FILE=/usr/local/etc/openssl/cert.pem
fi

# 方法2: 使用系统证书（macOS）
if [ -d /etc/ssl/certs ]; then
    export SSL_CERT_DIR=/etc/ssl/certs
fi

# 运行 Jekyll
bundle exec jekyll "$@"
