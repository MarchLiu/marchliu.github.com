---
layout: post
title: "MAC OS 使用技巧二则"
description: "NTFS访问，磁盘空间丢失，是我在使用 Mac 时遇到的问题，也是 MAC 用户常见的问题。不过当时因为没有及时记录，现在的印象有些模糊了。特别是一些原理和名词未必准确。"
category: tech
tags: [tech, OSX]
---
{% include JB/setup %}

# 说明

使用 MAC OS 三年以来，我家中的 MAC 加上公司配置的工作机，已经有了三四台 MAC，下面两个
问题是我和一些朋友都遇到的：NTFS 使用和存储空间丢失。我在网络上搜索了一下，经过自己体验，
可以解决。不过当时因为没有及时记录，现在的印象有些模糊了。特别是一些原理和名词未必准确。
下文仅供参考，大家如果想要追求严谨，最好搜索一下原始出处。我找到的基本都是 blogger 和一些
台湾用户的分享，所以需要翻墙才能读到。

以下的内容，我在 10.8 和 10.9 上，都实验过，确实可用。

## Mac OS 系统访问 NTFS

NTFS 格式相比 FAT 和 FAT32， 安全和性能都有质的优势。在 Windows 用户中广受欢迎。
在 Linux 环境下有 NTFS-3g ，用来访问 NTFS 格式。而 Mac OS 中对此支持一直比较差。
至最近的版本，NTFS 格式可写，但是仍不能读。

在 MAC 平台上，有若干第三方软件，可以达到类似 NTFS-3g 的效果。商业的一站式支持也有。
在互联网上也可以找到一些用户的分享，使用若干免费/开源程序的组合，实现类似的功能。

这里我们要用到三个软件包：

 - osxfuse-2.6.1.dmg
 - ntfs-3g-2010.10.2-macosx.dmg
 - fuse\_wait-1.1.pkg
 
首先，安装 osxfuse-2.6.1.dmg ，这里注意要选中 “MacFUSE Compatibility Layer ”。

然后安装 ntfs-3g-2010.10.2-macosx.dmg 。

再安装 fuse\_wait-1.1.pkg ，为 ntf-3g 打上 wait 补丁。

重启系统后，应该可以访问 NTFS 格式的驱动器了。

## 丢失的空间

我的工作机是一台 512GB SSD 的 RMBP。使用一段时间后，它有了一些奇怪的空间丢失问题。
具体表现在 Finder 中还有接近 200 GB 的可用空间，但是我试图 COPY 一个 150 GB 
的目录进来的时候，系统提示空间不足。此时在 Path Finder 中看到的是只有 76 GB 左右
的可用空间。

我用 DaisyDisk 查看系统，提示有近 200 GB 的隐藏文件，用 DaisyDisk 或 Clean My
Mac 2 都无法回收。（正常情况下，Clean My Mac 2 可以回收不再用到的临时文件和缓存）

重启后，这些“隐藏文件”仍然存在。如果它们仅仅是缓存文件，在系统重启后会被回收。

后来我从网络上搜索到一个方法，尝试有效，它适用这种意外丢失的磁盘空间回收。

首先，重启系统，在启动时按左 option 。会看到启动控制界面。在列表中选磁盘工具。

在磁盘工具的界面上选中主驱动器（注意不要选 recovery disk）。执行“修复磁盘”。

如果看到类似 “xxx cross link error fixed” 的字样。恭喜，我们的电脑确实
遇到了预期的错误，现在成功得到了修复。重启之后，会看到确实我们可以使用这部分空间了。

还有一种情况是 DaisyDisk 发现的 Hidden Files 确实是系统在使用的缓存。在重启
之后我们会看到这部分空间在迅速减少，可用空间迅速上升。




